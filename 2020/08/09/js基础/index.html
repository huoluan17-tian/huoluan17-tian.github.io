<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
	
	<!-- title -->
	
	<title>
	
		js基础 | 
	 
	Hexo
	</title>
	
	<!-- keywords,description -->
	 

	<!-- favicon -->
	
	<link rel="shortcut icon" href="/favicon.ico">
	
  

	
<link rel="stylesheet" href="/css/main.css">

	
<link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.min.css">

	
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/darcula.min.css">


	
<script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>

	
<script src="https://cdn.jsdelivr.net/npm/jquery-pjax@2.0.1/jquery.pjax.min.js"></script>

	
<script src="/js/main.js"></script>

	
		
<script src="https://cdn.jsdelivr.net/npm/leancloud-storage/dist/av-min.js"></script>

		
<script src="https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js"></script>

	
	
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
	<header id="header">
    <a id="title" href="/" class="logo">Hexo</a>

	<ul id="menu">
		<li class="menu-item">
			<a href="/about" class="menu-item-link">ABOUT</a>
		</li>
		
		<li class="menu-item">
			<a href="https://github.com/wujun234/uid-generator-spring-boot-starter" class="menu-item-link" target="_blank">
				UidGenerator
			</a>
		</li>
		<li class="menu-item">
			<a href="https://github.com/wujun234" class="menu-item-link" target="_blank">
				<i class="fa fa-github fa-2x"></i>
			</a>
		</li>
	</ul>
</header>

	
<div id="sidebar">
	<button id="sidebar-toggle" class="toggle" ><i class="fa fa-arrow-right " aria-hidden="true"></i></button>
	
	<div id="site-toc">
		<input id="search-input" class="search-input" type="text" placeholder="search...">
		<div id="tree">
			

			
							<ul>
								<li class="file">
									<a href="/2020/07/28/Vue/">
										Vue
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/08/01/Vuex/">
										Vuex
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/08/04/java%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/">
										java网络编程
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/08/11/java%E9%83%A8%E5%88%86%E8%A7%A3%E6%9E%90/">
										java部分解析
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file active">
									<a href="/2020/08/09/js%E5%9F%BA%E7%A1%80/">
										js基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/08/17/web%E5%89%8D%E7%AB%AF%E5%9F%BA%E7%A1%80/">
										web前端基础
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/08/05/%E5%85%A8%E6%A0%88/">
										全栈
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/08/10/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E4%B8%80%E9%9F%B3%E4%B9%90%E8%AF%84%E8%AE%BA%E5%88%86%E6%9E%90/">
										实战项目一音乐评论分析
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/08/17/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E4%BA%8C2048%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/">
										实战项目二2048游戏开发
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/08/03/%E6%95%B0%E6%8D%AE%E7%AE%97%E6%B3%95%E4%B8%8E%E7%BB%93%E6%9E%84/">
										数据算法与结构
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
							<ul>
								<li class="file">
									<a href="/2020/08/03/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/">
										正则表达式入门
									</a>
								</li>
								<div class="article-toc" style="display: none;"></div>
							</ul>
			
		</div>
	</div>
</div>

	<!-- 引入正文 -->
	<div id="content">
		<h1 id="article-title">

	js基础
</h1>
<div class="article-meta">
	
	<span>John Doe</span>
	<span>2020-08-09 12:41:35</span>
    
		<div id="article-categories">
            
		</div>
    
</div>

<div id="article-content">
	<p>我们省略到最基本的语法内容，像数据类型，循环，函数，数组等，直接从对象开始。</p>
<h2 id="第一章-对象"><a href="#第一章-对象" class="headerlink" title="第一章 对象"></a>第一章 对象</h2><h3 id="1-1-对象概述"><a href="#1-1-对象概述" class="headerlink" title="1.1  对象概述"></a>1.1  对象概述</h3><p>什么是对象（object）？ 简单来说，对象就是一组键值对（key-value）的集合，是一种无序的复合数据集合。<br><img src="https://document.youkeda.com/P3-4-HTML-CSS/7/1.jpg" alt=""><br>大括号：定义一个对象<br>person:定义的对象被赋值给person，person指向这个对象<br>name:henry 键值对（key:value）键值之间用:隔开<br>一共对象中可以包含多个键值对，每个键值对之间用逗号隔开，最后一个键值对可以不加逗号</p>
<p>注意这个person里面保存的是对象的内存地址，而不是对象，我们把这种赋值称为引用，上面的定义对象的方法叫做字面量<br>键名：<br>对象的键名基本都是字符串，可以加或者不加引号</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 和上面的写法意思一样</span><br><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  <span class="string">'name'</span>: <span class="string">'henry'</span>,</span><br><span class="line">  <span class="string">'age'</span>: 18</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>方法 ：键名又称为属性，它的键值可以是任何的数据类型，当键值为一个函数时，我们把属性（键名）称为方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18,</span><br><span class="line">  run: <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    console.log(<span class="string">'running'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.run();</span><br></pre></td></tr></table></figure>

<p>对象的创建: 除了字面量的方法，我们还可以通过构造函数创建新对象。<br>分成两步 ，第一步 创造一个构造函数，构造函数的名称根据大驼峰的方式命名<br>         第二步 通过new创建对象实例<br> 其中构造函数可以声明对象的名称属性方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 第一步：创建构造函数</span><br><span class="line"><span class="keyword">function</span> People(name, age) &#123;</span><br><span class="line">  this.name = name;</span><br><span class="line">  this.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 第二步：通过 new 创建对象实例</span><br><span class="line"><span class="built_in">let</span> person = new People(<span class="string">'henry'</span>, 18);</span><br><span class="line">console.log(person);</span><br></pre></td></tr></table></figure>
<p>注意 ：我们先用为people创建了一个构造函数 People，然后用构造函数People创建了对象实例 person.<br>构造函数中的this是函数运行时所在的环境对象，它是在函数体内部自动生成的对象，只能在函数体内部使用。<br>我们用构造函数来创建一个对象实例，那么构造函数的this.name = name;就表示将传入的参数name赋值给对象实例中对应的属性name.</p>
<h3 id="1-2-自定义属性的属性操作"><a href="#1-2-自定义属性的属性操作" class="headerlink" title="1.2 自定义属性的属性操作"></a>1.2 自定义属性的属性操作</h3><p>调用方法和调用函数的写法是相同的</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">person.run();</span><br></pre></td></tr></table></figure>
<p>属性的读取：js有两种方法读取对象的属性  点运算符和方括号运算符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(person.name);</span><br><span class="line">console.log(person[<span class="string">'name'</span>]);</span><br></pre></td></tr></table></figure>
<p>不同的是方括号里面可以是一个变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> variable = <span class="string">'name'</span>;               </span><br><span class="line">console.log(person[variable]);       //可以是变量</span><br><span class="line"></span><br><span class="line">variable = <span class="string">'age'</span>;</span><br><span class="line">console.log(person[variable]);      //可以是变量</span><br></pre></td></tr></table></figure>
<p>如果对象的属性的值还是一个对象那么我们还是可以使用点运算符或者方括号运算符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18,</span><br><span class="line">  parents: &#123;                    //大括号里面是一个对象</span><br><span class="line">    papa: <span class="string">'jack'</span>,</span><br><span class="line">    mama: <span class="string">'mary'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(person.parents.papa);</span><br><span class="line">console.log(person[<span class="string">'parents'</span>][<span class="string">'mama'</span>]);  //链式引用</span><br></pre></td></tr></table></figure>

<p>属性的赋值：也可以通过点运算符或者方括号运算符完成</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">person.name = <span class="string">'tom'</span>;          //赋值</span><br><span class="line">person[<span class="string">'age'</span>] = 10</span><br><span class="line"></span><br><span class="line">console.log(person.name);</span><br><span class="line">console.log(person.age);</span><br></pre></td></tr></table></figure>

<p>属性的查看：查看所有的属性可以使用Object.keys方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">console.log(Object.keys(person)); // object是基本对象，java中所有的其他的对象都是继承于object对象，即都是object实例</span><br><span class="line">                                   keys是object对象的一个静态方法</span><br></pre></td></tr></table></figure>
<p>属性的删除和增加<br>删除：使用delete命令 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18</span><br><span class="line">&#125;</span><br><span class="line">delete person.name;</span><br><span class="line">console.log(person);             //&#123; age: 18 &#125;</span><br></pre></td></tr></table></figure>
<p>添加属性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18</span><br><span class="line">&#125;</span><br><span class="line">person.gender = <span class="string">'male'</span>;      // &#123; name: <span class="string">'henry'</span>, age: 18, gender: <span class="string">'male'</span> &#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-3-遍历对象属性"><a href="#1-3-遍历对象属性" class="headerlink" title="1.3 遍历对象属性"></a>1.3 遍历对象属性</h3><p>在js中，我们可以通过for…in或者object.keys来实现对象属性的遍历<br>用for…in遍历属性 ：返回的是键名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (var key <span class="keyword">in</span> person) &#123;                   //<span class="keyword">for</span> ...<span class="keyword">in</span></span><br><span class="line">  console.log(<span class="string">'键名：'</span> + key + <span class="string">'；键值：'</span> + person[key]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>用Object.keys遍历属性：返回的是一个由对象所有 属性名 组成的数组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">let</span> keys = Object.keys(person);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">let</span> i = 0; i &lt; keys.length; i++) &#123;</span><br><span class="line">  console.log(<span class="string">'键名：'</span> + keys[i] + <span class="string">'；键值：'</span> + person[keys[i]]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-4-对象的继承"><a href="#1-4-对象的继承" class="headerlink" title="1.4 对象的继承"></a>1.4 对象的继承</h3><p>除了字面量和自定义的构造方法创建对象外，我们还可以通过js提供的构造函数object()或者继承来创建对象</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 字面量</span><br><span class="line"><span class="built_in">let</span> o1 = &#123;</span><br><span class="line">  name: <span class="string">'alice'</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// 构造函数</span><br><span class="line"><span class="built_in">let</span> o2 = new Object();</span><br><span class="line"><span class="built_in">let</span> o3 = new Object();</span><br><span class="line"></span><br><span class="line">// 继承 </span><br><span class="line"><span class="built_in">let</span> o4 = new o1();                //04对象就是继承于01  01就是原型</span><br></pre></td></tr></table></figure>

<p>原型：一个对象，它所继承的上一级对象是它的原型，它也是继承它的下一级对象的原型<br>属性是否存在：in<br>我们可以通过in来判断对象的属性是否存在</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="string">'name'</span> <span class="keyword">in</span> person;              //<span class="literal">true</span></span><br><span class="line"><span class="string">'gender'</span> <span class="keyword">in</span> person;           // <span class="literal">false</span></span><br><span class="line"><span class="string">'toString'</span> <span class="keyword">in</span> person;        //<span class="literal">true</span>   toString属性是object对象的属性person继承了object所以person也有tostring属性</span><br></pre></td></tr></table></figure>
<p>由上面可以看出对象拥有的属性包括自己的属性和继承的属性</p>
<p>我们如何判断自身属性是否存在：hasOwnProperty可以帮我们解决这个问题</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> person = &#123;</span><br><span class="line">  name: <span class="string">'henry'</span>,</span><br><span class="line">  age: 18,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">person.hasOwnProperty(<span class="string">'name'</span>);         //<span class="literal">true</span></span><br><span class="line">person.hasOwnProperty(<span class="string">'gender'</span>);       //<span class="literal">false</span></span><br><span class="line">person.hasOwnProperty(<span class="string">'toString'</span>);     //<span class="literal">false</span>  可以看出tostring属性不是自身的属性</span><br></pre></td></tr></table></figure>

<p>object 与 map,json的区别<br>json:一种轻量级的文本数据交换格式，可以看出编程语言之间用于传递数据的的一种数据格式<br>json格式和js对象的转化</p>
<p>1 json=&gt;js对象:JSON.parse()</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// 一个 JSON 字符串</span><br><span class="line">const jsonStr =</span><br><span class="line">  <span class="string">'&#123;"sites":[&#123;"name":"Runoob", "url":"www.runoob.com"&#125;,&#123;"name":"Google", "url":"www.google.com"&#125;,&#123;"name":"Taobao", "url":"www.taobao.com"&#125;]&#125;'</span>;</span><br><span class="line"></span><br><span class="line">// 转成 JavaScript 对象</span><br><span class="line">const obj = JSON.parse(jsonStr);</span><br></pre></td></tr></table></figure>
<p>2 js对象转化为json：JSON.stringify（）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const jsonStr2 = JSON.stringify(obj)；</span><br></pre></td></tr></table></figure>

<p>map :它和object有些相似，都可以保存键值对，但是他们任然有一些重大的区别<br>        1 object的键通常是字符串，map可以是任意类型（函数 对象等），因此map会比较方便<br>        2 object的键是无序的，而map中的键是有序的<br>        3 object的键值对数目需要使用object.keys()计算得到，而map可以直接得到<br>        4 Object需要借助object.keys()进行迭代，而map可以直接进行迭代<br>        5 object存在键名和原型键名冲突的问题，而map不存在，可以直接覆盖<br>但是map不能直接转化为json格式进行通讯，可以把把map看作object的补充</p>
<h3 id="1-5-内置对象，math-storage"><a href="#1-5-内置对象，math-storage" class="headerlink" title="1.5 内置对象，math-storage"></a>1.5 内置对象，math-storage</h3><p>math对象：math也是js的原生对象，不过它不是构造函数，不能生成实例，所有的属性方法都必须在math对象上面调用。<br>我们来看看math提供的一些用途<br>常量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Math.E // 常数e。</span><br><span class="line">Math.LN2 // 2 的自然对数。</span><br><span class="line">Math.LN10 // 10 的自然对数。</span><br><span class="line">Math.LOG2E // 以 2 为底的e的对数。</span><br><span class="line">Math.LOG10E // 以 10 为底的e的对数。</span><br><span class="line">Math.PI // 常数π。</span><br><span class="line">Math.SQRT1_2 // 0.5 的平方根。</span><br><span class="line">Math.SQRT2 // 2 的平方根。</span><br></pre></td></tr></table></figure>
<p>静态方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Math.abs() // 绝对值</span><br><span class="line">Math.ceil() // 向上取整</span><br><span class="line">Math.floor() // 向下取整</span><br><span class="line">Math.round() // 四舍五入取整</span><br><span class="line">Math.max() // 最大值</span><br><span class="line">Math.min() // 最小值</span><br><span class="line">Math.pow() // 指数运算</span><br><span class="line">Math.sqrt() // 平方根</span><br><span class="line">Math.log() // 自然对数</span><br><span class="line">Math.exp() // e的指数</span><br><span class="line">Math.random() // 随机数</span><br></pre></td></tr></table></figure>

<p>storge对象：用于脚本在浏览器保存数据，两个对象部署了这个接口 window.sessionStorage和window.localStorage<br>sessionStorage:保存的数据用于浏览器的一次会话，当会话结束（通常是窗口被关闭），数据被清空<br>localStorage：保存的数据长期存在，下一次访问该网站的时候，网页可以直接读取以前保存的数据。<br>我们来主要看一下localStorage的用法：<br>数据的写入setItem</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">window.localStorage.setItem(<span class="string">'myLocalStorage'</span>, <span class="string">'storage Value'</span>);  //参数 键名和键值 都是字符串，</span><br><span class="line">                   不是字符串也要转化为字符串再存入浏览器  JSON.stringify（）可以将对象转化为json字符串</span><br></pre></td></tr></table></figure>

<p>读取数据：getItem（）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.localStorage.getItem(<span class="string">'myLocalStorage'</span>);  //参数是键名</span><br></pre></td></tr></table></figure>
<p>我们可以通过f12 application storage查看储存的数据</p>
<p>清除缓存 ：window.localStorage.clear();</p>
<h3 id="1-6-内置对象-string"><a href="#1-6-内置对象-string" class="headerlink" title="1.6 内置对象 string"></a>1.6 内置对象 string</h3><p>包装对象：原生对象可以把原始类型的值包装成对象</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> v2 = new String(<span class="string">'abc'</span>);</span><br></pre></td></tr></table></figure>
<p>js提供了三大包装对象： string  number和boolean</p>
<p>包装对象的好处：1 使js对象涵盖所有的值<br>             2 使原始数据的值能够很方便的调用一些方法 例如<br>字符串长度 length                        </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> len = <span class="string">'here is an apple'</span>.length;</span><br><span class="line">```     </span><br><span class="line">查找字符串：indexOf（）</span><br><span class="line">```bash</span><br><span class="line"><span class="built_in">let</span> str = <span class="string">'here is an apple'</span>;</span><br><span class="line">const index = str.indexOf(<span class="string">'an'</span>);                    //查找an字符串，返回下标（从0开始）  不存在返回-1</span><br><span class="line">console.log(index);</span><br></pre></td></tr></table></figure>

<p>去掉两端空格：trim（）             //不改变原字符串，只是返回处理后的结果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">// <span class="string">'here'</span> 之前有一个空格，<span class="string">'apple'</span> 之后有三个空格</span><br><span class="line"><span class="built_in">let</span> str = <span class="string">' here is an apple   '</span>;</span><br><span class="line">const trimedStr = str.trim();         //去掉首尾的空格</span><br><span class="line">console.log(str.length);</span><br><span class="line">console.log(trimedStr.length);</span><br><span class="line">```       </span><br><span class="line"></span><br><span class="line">截取字符串：substring/substr    //不改变原字符串，只是返回处理后的结果</span><br><span class="line">```bash</span><br><span class="line"><span class="built_in">let</span> url = <span class="string">'https://www.youkeda.com/userhome#collect'</span>;</span><br><span class="line"></span><br><span class="line">// 首先找到 <span class="comment"># 后第一个字母的下标</span></span><br><span class="line">const index = url.indexOf(<span class="string">'#'</span>);</span><br><span class="line"></span><br><span class="line">// 有 <span class="built_in">hash</span> 才能进行截取，没有就直接提示不存在</span><br><span class="line"><span class="keyword">if</span> (index) &#123;</span><br><span class="line">  // 用 substring 截取字符串</span><br><span class="line">  const hash1 = url.substring(index + 1, url.length); //参数为开始时的下标和结束时的下标，如果第二个参数不设置，会截取到字符串的最后面</span><br><span class="line"></span><br><span class="line">  // 计算 <span class="built_in">hash</span> 的长度</span><br><span class="line">  const lenHash = url.length - index - 1;</span><br><span class="line">  // 用 substr 截取字符串</span><br><span class="line">  const hash2 = url.substr(index + 1, lenHash);     //参数为开始时的下标，和要截取的长度，如果第二个参数不设置，会截取到字符串的最后面</span><br><span class="line"></span><br><span class="line">  console.log(hash1);</span><br><span class="line">  console.log(hash2);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  console.log(<span class="string">'不存在 hash'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>分割字符串：spilt   返回一个数组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const splitedStr = <span class="string">'a|b|c'</span>.split(<span class="string">'|'</span>);   //按照/来分割</span><br><span class="line">console.log(splitedStr);</span><br></pre></td></tr></table></figure>


<p>几个方法汇总：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">属性/方法	                作用</span><br><span class="line">str.length	            返回字符串长度</span><br><span class="line">str.indexOf(sub)	    返回子字符串 sub 的开始下标，不存在则返回 -1   注意：这里的参数 sub 是个字符串变量</span><br><span class="line">                        </span><br><span class="line">str.trim()	            字符串前后去空格</span><br><span class="line">str.substring(s, e)	    截取下标从 s 到 e 的子字符串       注意：这里的参数 s 和 e是个数字变量</span><br><span class="line"></span><br><span class="line">str.substr(s, len)	    截取下标从 s 开始，长度为 len 的子字符串  注意：这里的参数 s 和 len 是个数字变量</span><br><span class="line"></span><br><span class="line">str.split(pattern)	    按规格 pattern 分割字符串     注意：这里的参数 pattern 是个字符串变量</span><br></pre></td></tr></table></figure>

<h3 id="1-7-内置对象-array"><a href="#1-7-内置对象-array" class="headerlink" title="1.7 内置对象 array"></a>1.7 内置对象 array</h3><p>array也是js的原生对象，它为数组提供了很多实用的方法，这里我们介绍几个比较常用的<br>连接数组 ：join（） 以指定参数作为分隔符，将数组成员连接为一个字符串返回</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> arr = [1, 2, 3, 4];</span><br><span class="line"></span><br><span class="line">arr.join(<span class="string">' '</span>) // <span class="string">'1 2 3 4'</span></span><br><span class="line">arr.join(<span class="string">' | '</span>) // <span class="string">"1 | 2 | 3 | 4"</span></span><br><span class="line">arr.join() // <span class="string">"1,2,3,4"</span></span><br><span class="line"></span><br><span class="line">可以看出和spilt的作用相反</span><br></pre></td></tr></table></figure>

<p>倒序排列：reverse()<br>将数组元素颠倒排列然后返回数组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line">arr.reverse() // [<span class="string">"c"</span>, <span class="string">"b"</span>, <span class="string">"a"</span>]</span><br><span class="line">arr // [<span class="string">"c"</span>, <span class="string">"b"</span>, <span class="string">"a"</span>]</span><br></pre></td></tr></table></figure>

<p>排序：sort（）<br>将数组成员默认按照字典顺序排序，如果自定义排序，只需要传入一个函数作为参数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> arr = [</span><br><span class="line">  &#123; name: <span class="string">'jenny'</span>, age: 18 &#125;,</span><br><span class="line">  &#123; name: <span class="string">'tom'</span>, age: 10 &#125;,</span><br><span class="line">  &#123; name: <span class="string">'mary'</span>, age: 40 &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">arr.sort(<span class="keyword">function</span>(a, b) &#123;</span><br><span class="line">  <span class="built_in">return</span> a.age - b.age;         //返回值大于0 将第一个成员放在第二个成员后面</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(arr);</span><br></pre></td></tr></table></figure>
<p>遍历：map和forEach<br>有返回值的遍历 map<br>它接受一个函数作为参数，然后将所有数组成员传入函数中，再将结果处理为数组返回</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> arr = [</span><br><span class="line">  &#123; name: <span class="string">'jenny'</span>, age: 18 &#125;,</span><br><span class="line">  &#123; name: <span class="string">'tom'</span>, age: 10 &#125;,</span><br><span class="line">  &#123; name: <span class="string">'mary'</span>, age: 40 &#125;</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line">// elem: 数组成员</span><br><span class="line">// index: 成员下标</span><br><span class="line">// a: 整个数组</span><br><span class="line">const handledArr = arr.map(<span class="keyword">function</span>(elem, index, a) &#123;</span><br><span class="line">  elem.age += 1;</span><br><span class="line">  console.log(elem, index, a);</span><br><span class="line">  <span class="built_in">return</span> elem.name</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(arr);</span><br><span class="line">console.log(handledArr);</span><br></pre></td></tr></table></figure>

<p>无返回值的遍历数组：foreach</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const handledArr = arr.forEach(<span class="keyword">function</span>(elem, index, a) &#123;</span><br><span class="line">  elem.age += 1;</span><br><span class="line">  console.log(elem, index, a);</span><br><span class="line">  <span class="built_in">return</span> elem.name</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">console.log(handledArr);            //无返回值 undefined</span><br></pre></td></tr></table></figure>

<p>array的几个方法总结</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">属性/方法	             作用</span><br><span class="line">arr.join(pattern)	按规则 pattern 连接数组，返回字符串</span><br><span class="line">arr.reverse()	    将原数组倒序排列</span><br><span class="line">arr.sort(func)	    自定义排序，根据传入的参数函数 func 将数组成员排序</span><br><span class="line">arr.map(func)	     根据传入的参数函数 func 对数组进行遍历操作，返回操作后的数组</span><br><span class="line">                      函数有三个参数，依次为：数组成员、对应下标、整个数组</span><br><span class="line">arr.forEach(func)	 根据传入的参数函数 func 对数组进行遍历操作，无返回值</span><br><span class="line">                     函数有三个参数，依次为：数组成员、对应下标、整个数组</span><br></pre></td></tr></table></figure>

<h3 id="1-8-内置对象-date"><a href="#1-8-内置对象-date" class="headerlink" title="1.8 内置对象   date"></a>1.8 内置对象   date</h3><p>js提供了一个原生的时间库：date对象 它是以国际标准时间1970.01.01.00.00.00为时间零点。单位是毫秒，前后各一亿天。</p>
<p>获取当前时间：new date()<br>可以把date看作一个构造函数，然后获取它的实例，在不加参数的情况下，返回的就是当前的时间</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> now = new Date();</span><br><span class="line">console.log(now);                  //返回当前时间</span><br></pre></td></tr></table></figure>
<p>传入一些参数，就会生成特定的时间对象</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// 传入表示“年月日时分秒”的数字</span><br><span class="line"><span class="built_in">let</span> dt1 = new Date(2020, 0, 6, 0, 0, 0);</span><br><span class="line">console.log(dt1);</span><br><span class="line"></span><br><span class="line">// 传入日期字符串</span><br><span class="line"><span class="built_in">let</span> dt2 = new Date(<span class="string">'2020-1-6'</span>);</span><br><span class="line">console.log(dt2);</span><br><span class="line"></span><br><span class="line">// 传入距离国际标准时间的毫秒数</span><br><span class="line"><span class="built_in">let</span> dt3 = new Date(1578240000000);</span><br><span class="line">console.log(dt3);</span><br></pre></td></tr></table></figure>

<p>日期运算<br>时间差：毫秒数  两个时间对象是可以直接相减的，返回的结果是二者的毫秒数差</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> dt1 = new Date(2020, 2, 1);</span><br><span class="line"><span class="built_in">let</span> dt2 = new Date(2020, 3, 1);</span><br><span class="line"></span><br><span class="line">// 求差值</span><br><span class="line"><span class="built_in">let</span> diff = dt2 - dt1;</span><br><span class="line"></span><br><span class="line">// 一天的毫秒数</span><br><span class="line"><span class="built_in">let</span> ms = 24 * 60 * 60 * 1000;</span><br><span class="line">console.log(diff / ms); // 31</span><br></pre></td></tr></table></figure>

<p>早晚比较：大于小于符号<br>比较两个时间的早晚，可以使用大于小于符号，返回boolean值。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> dt1 = new Date(2020, 2, 1);</span><br><span class="line"><span class="built_in">let</span> dt2 = new Date(2020, 3, 1);</span><br><span class="line"></span><br><span class="line">console.log(dt1 &gt; dt2); // <span class="literal">false</span></span><br><span class="line">console.log(dt1 &lt; dt2); // <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>解析日期字符串：date.parse()<br>解析字符串，返回的是距离时间零点的毫秒数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> dt = Date.parse(<span class="string">'2020-1-6'</span>);</span><br><span class="line">console.log(dt); // 1578240000000</span><br></pre></td></tr></table></figure>

<p>时间对象转时间字符串：to方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> dt = new Date();</span><br><span class="line"><span class="built_in">let</span> dtStr = dt.toJSON();        //toJson方法</span><br><span class="line"></span><br><span class="line">console.log(dtStr); //  我们是东八区，所以会快8个小时</span><br></pre></td></tr></table></figure>

<p>获取时间对象的的年月日：get方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> dt = new Date();</span><br><span class="line">dt.getTime(); // 返回实例距离1970年1月1日00:00:00的毫秒数。</span><br><span class="line">dt.getDate(); // 返回实例对象对应每个月的几号（从1开始）。</span><br><span class="line">dt.getDay(); // 返回星期几，星期日为0，星期一为1，以此类推。</span><br><span class="line">dt.getFullYear(); // 返回四位的年份。</span><br><span class="line">dt.getMonth(); // 返回月份（0表示1月，11表示12月）。</span><br><span class="line">dt.getHours(); // 返回小时（0-23）。</span><br><span class="line">dt.getMilliseconds(); // 返回毫秒（0-999）。</span><br><span class="line">dt.getMinutes(); // 返回分钟（0-59）。</span><br><span class="line">dt.getSeconds(); // 返回秒（0-59）。</span><br></pre></td></tr></table></figure>

<p>设置时间对象的年月日  ：set方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> dt = new Date();</span><br><span class="line">dt.setTime(ms); // 设置实例距离1970年1月1日00:00:00的毫秒数。</span><br><span class="line">dt.setDate(date); // 设置实例对象对应每个月的几号（从1开始）。</span><br><span class="line">dt.setFullYear(year); // 设置四位的年份。</span><br><span class="line">dt.setMonth(month); // 设置月份（0表示1月，11表示12月）。</span><br><span class="line">dt.setHours(hour); // 设置小时（0-23）。</span><br><span class="line">dt.setMilliseconds(ms); // 设置毫秒（0-999）。</span><br><span class="line">dt.setMinutes(min); // 设置分钟（0-59）。</span><br><span class="line">dt.setSeconds(sec); // 设置秒（0-59）。</span><br></pre></td></tr></table></figure>

<p>时间对象，毫秒数，日期字符串之间的转化<br><img src="https://qgt-document.oss-cn-beijing.aliyuncs.com/P3-4-HTML-CSS/7/3.jpg" alt=""></p>
<h2 id="第二章-BOM"><a href="#第二章-BOM" class="headerlink" title="第二章  BOM"></a>第二章  BOM</h2><h3 id="2-1-BOM"><a href="#2-1-BOM" class="headerlink" title="2.1  BOM"></a>2.1  BOM</h3><p>BOM：浏览器对象模型  它由一系列对象组成，每个对象都提供了很多方法和属性<br>我们以chrome为准，学习一些BOM共同的对象和api</p>
<p>BOM对象中比较重要的4个对象：<br>1  window窗口：window是整个网页的框架，每个网页的内容都是装载在window中的<br>2  navigator浏览器：navigator里面存储浏览器相关信息<br>3  history历史 我们知道每个网页都可以前进后端，history便是用来存储整个网页栈的。<br>4  screen显示屏幕 screen包含我们显示屏幕的信息，这个是硬件信息<br>5  location地址  location里面当前访问的地址信息（网址）<br><img src="https://style.youkeda.com/img/course/f4/8/1.jpeg" alt=""></p>
<p>注意：<br>1 screen是整个电脑唯一的<br>2 navigator是浏览器唯一的，如果有多个浏览器就会有多个navigator<br>3 window是每个网页唯一的，每个网页都会有自己独立的window<br>4 histor和location是网页唯一的，是每个网页的信息</p>
<h3 id="2-2-window"><a href="#2-2-window" class="headerlink" title="2.2 window"></a>2.2 window</h3><p>在html中嵌入js<br>我们在html body底部加入<script src="./index.js"></script>，嵌入执行脚本,然后在脚本中添加代码。</p>
<p>window对象中，有很多方法，比如alert, confirm ……<br>还有一些属性对象比如： console, screen, navigator, location…… </p>
<p>官方对window对象的解释：1 window对象表示一个浏览器窗口或一个frame框架，它处于对象层次的最顶端，它提供了处理浏览器窗口的属性和方法<br>                    2 window对象是浏览器对象的默认对象，所以可以隐式地引用window对象的属性和方法。在浏览器环境中，添加到<br>                    window对象中的属性或者方法，其作用域都是全局的。<br>什么叫默认对象，什么叫隐式引用？</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">console.log(<span class="string">'优课达'</span>);</span><br><span class="line">window.console.log(<span class="string">'优课达'</span>);  //可以看出二者等同</span><br><span class="line"></span><br><span class="line">console.log(navigator);</span><br><span class="line">console.log(window.navigator); //可以看出二者等同</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">hello</span></span>() &#123;&#125;</span><br><span class="line">console.log(hello);</span><br><span class="line">console.log(window.hello);   //甚至自定义的顶层函数，也是挂载在window上的。 包括Math对象，setTimeout函数，setInterval函数</span><br></pre></td></tr></table></figure>
<p>总结：window是默认对象，如果调用window上的方法可以省略，也可以称为隐式调用window上面的属性和方法。</p>
<h3 id="2-3-location-history"><a href="#2-3-location-history" class="headerlink" title="2.3 location/history"></a>2.3 location/history</h3><p>location常用的属性：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">属性	                        值	                                                 解释</span><br><span class="line">href	https://resource.youkeda.com/wss_test/5dc54e230f101ed7c2256d0d/</span><br><span class="line">5e33d104680dca7ebc7a223b/index.html?time=1580454161498	                          href 是整个网页地址</span><br><span class="line"></span><br><span class="line">hostname	           resource.youkeda.com	                                      hostname 是网页域名</span><br><span class="line">host	               resource.youkeda.com	        host 是网页域名 + 端口信息，在这里端口默认 80 省略了，所有和 hostname 一样</span><br><span class="line">protocol	           https	                                                  protocol 代表协议信息</span><br><span class="line">origin	               https://resource.youkeda.com	origin                        页面来源的域名的标准形式</span><br><span class="line">pathname	/5dc54e230f101ed7c2256d0d/5e33d104680dca7ebc7a223b/index.html	       pathname 包含 url 路径部分</span><br><span class="line">search	               ?time=1580454161498	                                       search 表示 URL 参数</span><br></pre></td></tr></table></figure>

<p><img src="https://style.youkeda.com/img/course/f4/8/3.jpeg" alt=""></p>
<p>location方法：reload()方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">  window.location.reload();                //定时器延迟调用</span><br><span class="line">&#125;, 3000);</span><br></pre></td></tr></table></figure>

<p>跳转到新的地址</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.location = <span class="string">'https://www.youkeda.com'</span>;   //赋值网页地址即可</span><br></pre></td></tr></table></figure>

<p>history：它会存储窗口的历史纪录，也允许操作浏览器曾经的标签页或者框架内的会话历史纪录。<br>举一个例子</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">如果原始网页为https://www.youkeda.com，</span><br><span class="line">那 <span class="built_in">history</span> 中存储为</span><br><span class="line">[<span class="string">'https://www.youkeda.com'</span>];</span><br><span class="line">如果我们在网页中点击某个链接，或者使用window.location = xxx跳转到https://www.baidu.com, 那 <span class="built_in">history</span> 中存储为</span><br><span class="line"> [<span class="string">'https://www.youkeda.com'</span>, <span class="string">'https://www.baidu.com'</span>];  //这是一个数组，或者说列表，也叫栈</span><br></pre></td></tr></table></figure>
<p>history应该掌握两个方法back（）和forward() 对应浏览器左上角的返回和前进按钮</p>
<h3 id="2-4-navigator-screen"><a href="#2-4-navigator-screen" class="headerlink" title="2.4 navigator/screen"></a>2.4 navigator/screen</h3><p>navigator:表示用户代理的标识和状态，也就是浏览器的基本信息。<br>userAgent：当前浏览器的用户代理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_2) AppleWebKit/537.36 (KHTML, like</span><br><span class="line">Gecko) Chrome/79.0.3945.130 Safari/537.36</span><br></pre></td></tr></table></figure>
<p>Mozilla是一个基金会，表示这是一个主流浏览器<br>Intel Mac OS X 10_15_2表示电脑基本信息为mac<br>Chrome/79.0.3945.130 表示浏览器版本</p>
<h2 id="第三章-DOM和DOM操作"><a href="#第三章-DOM和DOM操作" class="headerlink" title="第三章 DOM和DOM操作"></a>第三章 DOM和DOM操作</h2><h3 id="3-1-初始dom"><a href="#3-1-初始dom" class="headerlink" title="3.1 初始dom"></a>3.1 初始dom</h3><p>dom（文档对象模型）是js甚至是前端最核心的内容。<br>文档对象模型可以把web页面与脚本或者编程语言连接起来。</p>
<p>web页面：html和css绘制的页面，也称为文档<br>脚本或编程语言： dom是一种规范，一种约定，只要遵循这个规范，编程语言与文档就可以连接起来</p>
<p>DOM映射：像html和xml这种形式的文档都是树状结构，也对应数据结构中的数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;youkeda&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;优课达&lt;/h1&gt;</span><br><span class="line">      &lt;p&gt;学的比别人好一点&lt;/p&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>我们把上面这个html文档转化为树状结构<br><img src="https://style.youkeda.com/img/course/f4/9/1.jpeg" alt=""><br>上面这棵树就是DOM树，我们来看看它的一些特性：<br>1 树根是 DOCUMENT，也可以称为整个页面文档<br>2 每个 HTML 标签我们称之为 DOM 节点，英文为Node或者ELement<br>3 每个 HTML 标签包裹的子标签，在树上体现为分支，称为儿子节点。比如上图，P和H1都是DIV的儿子节点。DIV同样也是BODY的儿子节点。<br>4 儿子节点类推可以得知P,H1是BODY的孙子节点。<br>5 所有P, H1的长辈，我们称为P和H1的祖先节点。<br>6 P, H1是亲兄弟，我们称为兄弟节点。</p>
<h3 id="3-2-访问DOM"><a href="#3-2-访问DOM" class="headerlink" title="3.2 访问DOM"></a>3.2 访问DOM</h3><p>如何获取document（DOM树的根部元素）？</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.document;  //得到一个HTMLDocument对象，其中body, head属性，分别对应 HTML 中的body,head内容。</span><br></pre></td></tr></table></figure>
<p>选择器查询：<br>我们想要单独查询某一个节点该怎么办？例如查询一个subtitle节点。<br>我们可以使用选择器查询方法，querySelector（）  //查询第一个满足条件的节点</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.querySelector(<span class="string">'main .core .subtitle'</span>);  //参数为选择器名称，为了防止查询到多个同名节点，我们加上一些筛选条件</span><br></pre></td></tr></table></figure>

<p>迭代查询：当我们查询到一个节点后，还可以利用这个节点，继续查询内部的节点例如</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> subtitle = document.querySelector(<span class="string">'main .core .subtitle'</span>);</span><br><span class="line">console.log(subtitle.querySelector(<span class="string">'a'</span>));     //查询subtitle节点内部的节点a</span><br></pre></td></tr></table></figure>
<p>选择器全量查询：查询所有满足条件的节点querySelectorAll（）方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.querySelectorAll(<span class="string">'input'</span>);        //查询返回的是一个数组，可以用索引访问内部元素</span><br></pre></td></tr></table></figure>

<p>其他的筛选方法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">getElementById():         根据 id 查询某个节点</span><br><span class="line">getElementsByClassName(): 根据 class 查询多个节点</span><br><span class="line">getElementsByTagName():   根据 标签名 查询多个节点</span><br></pre></td></tr></table></figure>
<p>区别 ：querySelector(All)和getElement（）方法的区别在于，前者copy的是原始数据，不会随页面变化而变化，而后者会。<br>大多数时候，我们还是使用前者来查询节点。</p>
<h3 id="3-3-DOM属性"><a href="#3-3-DOM属性" class="headerlink" title="3.3 DOM属性"></a>3.3 DOM属性</h3><p>DOM种类：我们发现基本每一种html标签都对应一种DOM类型</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- HTMLDocument 根文档 --&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  ……</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- HTMLDivElement DIV类型 --&gt;</span><br><span class="line">&lt;div class=<span class="string">"subtitle"</span>&gt;</span><br><span class="line">  ……</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- HTMLAnchorElement 超链接类型 --&gt;</span><br><span class="line">&lt;a class=<span class="string">"free-bright"</span>&gt;免费靓号&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- HTMLInputElement Input类型 --&gt;</span><br><span class="line">&lt;input class=<span class="string">"password"</span> <span class="built_in">type</span>=<span class="string">"pasworkd"</span> placeholder=<span class="string">"请输入密码"</span> /&gt;</span><br></pre></td></tr></table></figure>

<p>DOM属性<br>DOM类别：大概可以归纳为4类 1 元素节点<br>                       2 特性节点<br>                       3 文本节点<br>                       4 其他的一些节点 不太重要可以忽略<br>我们来用例子来分析一下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> divDom = document.querySelector(<span class="string">'div#test'</span>);       // divDom是元素节点 </span><br><span class="line">console.log(divDom.nodeType, divDom.nodeName, divDom.nodeValue);</span><br><span class="line"></span><br><span class="line">// 获取DIV节点的第一个儿子节点，代表 <span class="string">'优课达'</span> 这个字符串</span><br><span class="line"><span class="built_in">let</span> txtDom = divDom.firstChild;          // txtDom是文本节点           </span><br><span class="line">console.log(txtDom.nodeType, txtDom.nodeName, txtDom.nodeValue);</span><br><span class="line"></span><br><span class="line">// 获取DIV节点的id属性</span><br><span class="line"><span class="built_in">let</span> attDom = divDom.attributes.id;        // attDom表示特性节点 </span><br><span class="line">console.log(attDom.nodeType, attDom.nodeName, attDom.nodeValue);</span><br></pre></td></tr></table></figure>
<p>总结一下：<br>1整个html中，无论是标签，标签属性，还是纯文本字符串，都是element,不同的地方在于nodetype分为元素节点，文本节点和特性节点。<br>2html的标签都是元素节点，可以用nodeName来获得标签名称<br>3纯文本都是文本节点，可以用nodeValue来获得文本内容<br>4标签的每个属性都是特性节点，可以用nodeName获取属性key还可以用nodeValue来获得value<br>5attributes可以获取元素节点的所有属性，得到的结果是一个字典，通过属性key获取对应的特性节点。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> divDom = document.querySelector(<span class="string">'div#test'</span>);</span><br><span class="line">console.log(divDom.outerHTML, divDom.innerHTML, divDom.innerText);</span><br></pre></td></tr></table></figure>
<p>分析 ：<br>属性              值                                                             内容<br>outerHTML        <div id="test">优课达<p>youkeda</p><p>学的比别人好一点</p></div>    整个 DOM 的 HTML 代码<br>innerHTML         优课达<p>youkeda</p><p>学的比别人好一点</p>                        DOM 内部 HTML 代码<br>innerText         优课达                                                            DOM 内部纯文本内容</p>
<p>DOM亲属：我们知道firstChild属性获取到元素的第一个儿子节点。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> divDom = document.querySelector(<span class="string">'div#test'</span>);</span><br><span class="line">console.log(divDom.firstChild, divDom.lastChild);    </span><br><span class="line">console.log(<span class="string">'-----'</span>);</span><br><span class="line">console.log(divDom.childNodes);</span><br><span class="line">console.log(<span class="string">'-----'</span>);</span><br><span class="line">console.log(divDom.parentNode);</span><br></pre></td></tr></table></figure>
<p>分析 ：<br>属性              值                                         总结<br>firstChild       优课达                                        指定节点的第一个子节点<br>lastChild         <p>学的比别人好一点</p>                        指定节点的最后一个子节点<br>childNodes         优课达<p>youkeda</p><p>学的比别人好一点</p>    指定节点的子节点的集合<br>parentNode         <body><div id="test">优课达<p>youkeda</p>   指定节点在 DOM 树中的父节点<br>                 <p>学的比别人好一点</p></div><script src="./index.js"><br>                 </script></body>    </p>
<p>DOM样式：通过dom我们可以访问到css特性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const h1Dom = document.querySelector(<span class="string">'h1'</span>);</span><br><span class="line">console.log(h1Dom.classList);</span><br><span class="line">console.log(h1Dom.style);</span><br><span class="line">console.log(h1Dom.style.color);</span><br><span class="line">``` </span><br><span class="line">分析：</span><br><span class="line">```bash</span><br><span class="line">属性        类型                  值                                  总结       </span><br><span class="line">classList  DOMTokenList类数组	[<span class="string">'test'</span>, <span class="string">'youkeda'</span>]	                classList 数组方式存储所有的 class 名称</span><br><span class="line">style	   CSSStyleDeclaration	color属性为rgb(255, 51, 0)	        对象或字典的方法存储 CSSStyle</span><br></pre></td></tr></table></figure>

<p>DOM数据属性<br>网页设计的初衷是为了数据和特定的html标签相关联</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"UTF-8"</span> /&gt;</span><br><span class="line">  &lt;title&gt;优课达&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;article data-parts=<span class="string">"3"</span> data-words=<span class="string">"1314"</span> data-category=<span class="string">"python"</span>&gt; //段落 字数 分类</span><br><span class="line">    ...</span><br><span class="line">  &lt;/article&gt;</span><br><span class="line">  &lt;script src=<span class="string">"./index.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p>我们来看看上面的一段代码：html提供了一种数据属性的标准，利用data-*储存额外的信息，例如段落 字数 分类</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">const article = document.querySelector(<span class="string">'article'</span>);</span><br><span class="line">console.log(article.dataset);</span><br></pre></td></tr></table></figure>
<p>我们可以用dom的.dataset属性来获取这些额外的数据属性。dataset是个map对象，它是data-<em>整个</em>的key value的集合</p>
<h3 id="3-4DOM操作（一）"><a href="#3-4DOM操作（一）" class="headerlink" title="3.4DOM操作（一）"></a>3.4DOM操作（一）</h3><p>DOM样式修改：我们来看一个例子</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=<span class="string">"utf-8"</span> /&gt;</span><br><span class="line">  &lt;link rel=<span class="string">"stylesheet"</span> <span class="built_in">type</span>=<span class="string">"text/css"</span> href=<span class="string">"./post.css"</span> /&gt;</span><br><span class="line">  &lt;title&gt;优课达&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;section class=<span class="string">"box"</span>&gt;</span><br><span class="line">    &lt;img</span><br><span class="line">      class=<span class="string">"java"</span></span><br><span class="line">      src=<span class="string">"https://document.youkeda.com/new-learn-path/Bitmap.png"</span></span><br><span class="line">    /&gt;</span><br><span class="line">    &lt;div class=<span class="string">"title"</span>&gt;Java&lt;/div&gt;</span><br><span class="line">    &lt;div class=<span class="string">"select"</span>&gt;&lt;/div&gt;</span><br><span class="line">  &lt;/section&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script src=<span class="string">"./post.js"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>
<p><img src="https://style.youkeda.com/img/course/f4/9/17.png" alt=""><br>我们要实现如图所示的效果，可以怎么做？<br>我们可以在点击的时候向select插入一个img节点，渲染选中的打勾图片，再次点击的时候清除内部的select节点，这样我们需要做到以下几点<br>1如何使用js创建节点（创建img节点）<br>2如何设置节点的样式和属性（Img 节点这里设置src属性）<br>3如何在已经存在的节点内部创建节点（Img节点需要添加到select中）<br>4如何清空节点内部子节点（再次点击的时候清除img节点）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">// 保存当前是否选中的状态</span><br><span class="line"><span class="built_in">let</span> isSelected = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">// 获取整个元素的节点</span><br><span class="line">const box = document.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"></span><br><span class="line">// 获取select框节点</span><br><span class="line">const select = document.querySelector(<span class="string">'.select'</span>);</span><br><span class="line"></span><br><span class="line">// 给整个元素添加点击事件【大家可以先忽略这部分】</span><br><span class="line">box.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">  // 点击以后触发这个函数</span><br><span class="line"></span><br><span class="line">  // 修改当前选中状态，取反即可</span><br><span class="line">  isSelected = !isSelected;</span><br><span class="line"></span><br><span class="line">  // 如果当前是选中状态、则添加img到select中</span><br><span class="line">  <span class="keyword">if</span> (isSelected) &#123;</span><br><span class="line">    // 创建一个img标签节点</span><br><span class="line">    const img = document.createElement(<span class="string">'img'</span>);</span><br><span class="line"></span><br><span class="line">    // 设置img的src属性和样式，让其撑满select框</span><br><span class="line">    img.src = <span class="string">'https://style.youkeda.com/img/sandwich/check.png'</span>;</span><br><span class="line">    img.setAttribute(<span class="string">'style'</span>, <span class="string">'width: 100%; height: 100%;'</span>);</span><br><span class="line"></span><br><span class="line">    // 将这个节点添加到select框中</span><br><span class="line">    select.appendChild(img);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    // 如果不是选择状态，则清空内部子元素</span><br><span class="line">    select.innerHTML = <span class="string">''</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>1 创建标签节点<br>document.createElement（tagName），利用此方法可以创建一个标签名为tagName的元素节点<br>例如，创建一个div节点</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">const div = document.createElement(<span class="string">'div'</span>);</span><br></pre></td></tr></table></figure>
<p>document.creatTextNode(string),利用此方法我们可以在div标签内部添加纯文本内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const div = document.createElement(<span class="string">'div'</span>);</span><br><span class="line">const txt = document.createTextNode(<span class="string">'优课达-学的比别人好一点'</span>);</span><br><span class="line">div.appendChild(txt);                     //把txt添加到div中</span><br><span class="line">document.body.appendChild(div);           //把div添加到body中</span><br></pre></td></tr></table></figure>

<p>2 添加新节点<br>appendChild（）方法可以往节点中插入一个新节点  位置：在所有儿子节点之后添加<br>inserBefore（newNode,referenceNode）在某个目标儿子节点之前添加，两个参数，第一个参数新节点，第二个参数某个目标儿子节点<br>示例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> createDisease(txt) &#123;                            //构造一个创建节点的方法</span><br><span class="line">  const dom = document.createElement(<span class="string">'li'</span>);</span><br><span class="line">  const domTxt = document.createTextNode(txt);</span><br><span class="line">  dom.appendChild(domTxt);</span><br><span class="line">  <span class="built_in">return</span> dom;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const root = document.querySelector(<span class="string">'ul.root'</span>);</span><br><span class="line">const sars = document.querySelector(<span class="string">'li.sars'</span>);         //查询节点</span><br><span class="line"></span><br><span class="line">// 创建 H1N1</span><br><span class="line">const H1N1 = createDisease(<span class="string">'H1N1'</span>);                      //调用方法创建节点</span><br><span class="line">root.appendChild(H1N1);</span><br><span class="line"></span><br><span class="line">// 创建 新型冠状病毒</span><br><span class="line">const nCoV = createDisease(<span class="string">'新型冠状病毒'</span>);</span><br><span class="line">root.insertBefore(nCoV, sars);</span><br></pre></td></tr></table></figure>

<p>3 设置样式属性、<br>可以直接设置样式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">img.setAttribute(<span class="string">'style'</span>, <span class="string">'width: 100%; height: 100%;'</span>);  //setAttribute可以设置html的所有属性，包括id <span class="built_in">type</span> src</span><br></pre></td></tr></table></figure>
<p>还可以单独设置某些样式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dom.style.color = <span class="string">'xxxx'</span>;</span><br></pre></td></tr></table></figure>
<p>classList:classList能够获取到DOM上所有的类，我们可以把样式都写成css，然后再js中添加或者删除。</p>
<p>4 innerHtml:我们可以使用innerHtml给某个节点添加内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> createDisease(txt) &#123;</span><br><span class="line">  const dom = document.createElement(<span class="string">'li'</span>);</span><br><span class="line">  dom.innerHTML = txt;                         // 我们可以直接用innerHTML设置其纯文本</span><br><span class="line">  <span class="built_in">return</span> dom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-5-DOM操作（二）"><a href="#3-5-DOM操作（二）" class="headerlink" title="3.5 DOM操作（二）"></a>3.5 DOM操作（二）</h3><p>我们用一个案列来深入解析一下DOM的规范<br><img src="https://style.youkeda.com/img/course/f4/9/20.png" alt=""><br>我们要做出上图显示的效果，先分析一下<br>1 首先，我们要在不考虑鼠标交互的情况下，做出静态页面<br>2 监听搜索框的input事件<br>3 当输入内容为肺炎时，显示模糊的搜索结果<br>4 当输入内容不是肺炎时，显示登录查看历史</p>
<p>开发静态html页面 ：可以分为3大板块 搜索框，登录查看历史和肺炎相关列表</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;nav&gt;</span><br><span class="line">      &lt;!-- 头部搜索框区域 --&gt;</span><br><span class="line">    &lt;/nav&gt;</span><br><span class="line">    &lt;main&gt;</span><br><span class="line">      &lt;!-- 输入非<span class="string">'肺炎'</span>情况 --&gt;</span><br><span class="line">      &lt;section class=<span class="string">"login"</span>&gt;</span><br><span class="line">        登录查看历史</span><br><span class="line">      &lt;/section&gt;</span><br><span class="line">      &lt;!-- 输入<span class="string">'肺炎'</span>情况 --&gt;</span><br><span class="line">      &lt;ul class=<span class="string">"search-result"</span>&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;i class=<span class="string">"search"</span>&gt;&lt;/i&gt;</span><br><span class="line">          &lt;p&gt;&lt;em&gt;肺炎&lt;/em&gt;疫情实时动态&lt;/p&gt;</span><br><span class="line">          &lt;i class=<span class="string">"edit"</span>&gt;&lt;/i&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        ……</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">    &lt;/main&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<p>监听input输入事件，处理区域显示隐藏</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const input = document.querySelector(<span class="string">'input'</span>);</span><br><span class="line"></span><br><span class="line">// 监听键盘事件</span><br><span class="line">input.addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  // this 是DOM节点，this.value可以获取input内输入的值</span><br><span class="line">  console.log(this.value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>监听输入肺炎时，显示肺炎查询结果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">main .search-result &#123;              //先将登录查看历史设置为可见，将搜索结果设置为不可见</span><br><span class="line">  padding: 0;</span><br><span class="line">  display: none; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const input = document.querySelector(<span class="string">'input'</span>);</span><br><span class="line"></span><br><span class="line">const login = document.querySelector(<span class="string">'.login'</span>);</span><br><span class="line">const searchResult = document.querySelector(<span class="string">'.search-result'</span>);</span><br><span class="line"></span><br><span class="line">// 监听键盘事件</span><br><span class="line">input.addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  // this 是DOM节点，this.value可以获取input内输入的值</span><br><span class="line">  <span class="keyword">if</span> (this.value === <span class="string">'肺炎'</span>) &#123;</span><br><span class="line">    login.style.display = <span class="string">'none'</span>;</span><br><span class="line">    searchResult.style.display = <span class="string">'block'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    login.style.display = <span class="string">'block'</span>;</span><br><span class="line">    searchResult.style.display = <span class="string">'none'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>肺炎搜索结果动态显示：一般搜索结果都是js发起网络请求，然后返回的数据，这里我们自己写一些数据来模拟</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> data = [</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;实时疫情动态'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;的症状有哪些症状'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;武汉'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;症状'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;是怎么引起的'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新消息'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;实时'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;症状及表现'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新情况'</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>我们用这份数组数据，生成多个li标签内容，我们来封装一个函数，用来生成这个liDom节点</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> createSearchItem(txt) &#123;</span><br><span class="line">  const item = document.createElement(<span class="string">'li'</span>);</span><br><span class="line">  item.innerHTML = `&lt;i class=<span class="string">"search"</span>&gt;&lt;/i&gt;&lt;p&gt;<span class="variable">$&#123;txt&#125;</span>&lt;/p&gt;&lt;i class=<span class="string">"edit"</span>&gt;&lt;/i&gt;`;//我们使用innerHTML和模板字符串来创建li内容</span><br><span class="line">  <span class="built_in">return</span> item;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>最后我们遍历搜索结果和依次创建li标签并插入到页面中，代码如下</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> data = [</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;实时疫情动态'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;的症状有哪些症状'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;武汉'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;症状'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;是怎么引起的'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新消息'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;实时'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;症状及表现'</span>,</span><br><span class="line">  <span class="string">'&lt;em&gt;肺炎&lt;/em&gt;最新情况'</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> createSearchItem(txt) &#123;</span><br><span class="line">  const item = document.createElement(<span class="string">'li'</span>);</span><br><span class="line">  item.innerHTML = `&lt;i class=<span class="string">"search"</span>&gt;&lt;/i&gt;&lt;p&gt;<span class="variable">$&#123;txt&#125;</span>&lt;/p&gt;&lt;i class=<span class="string">"edit"</span>&gt;&lt;/i&gt;`;</span><br><span class="line">  <span class="built_in">return</span> item;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const input = document.querySelector(<span class="string">'input'</span>);</span><br><span class="line"></span><br><span class="line">const login = document.querySelector(<span class="string">'.login'</span>);</span><br><span class="line">const searchResult = document.querySelector(<span class="string">'.search-result'</span>);</span><br><span class="line"></span><br><span class="line">// 监听键盘事件</span><br><span class="line">input.addEventListener(<span class="string">'keyup'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  // this 是DOM节点，this.value可以获取input内输入的值</span><br><span class="line">  <span class="keyword">if</span> (this.value === <span class="string">'肺炎'</span>) &#123;</span><br><span class="line">    // 先把原始内容清空</span><br><span class="line">    searchResult.innerHTML = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">let</span> i = 0; i &lt; data.length; i++) &#123;</span><br><span class="line">      searchResult.appendChild(createSearchItem(data[i]));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    login.style.display = <span class="string">'none'</span>;</span><br><span class="line">    searchResult.style.display = <span class="string">'block'</span>;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    login.style.display = <span class="string">'block'</span>;</span><br><span class="line">    searchResult.style.display = <span class="string">'none'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>分析：我们先写出静态的页面，然后利用js控制区的显示和隐藏达到动态的效果，最后根据静态页面模板和数据，动态创建dom节点</p>
<h2 id="第四章-DOM事件"><a href="#第四章-DOM事件" class="headerlink" title="第四章  DOM事件"></a>第四章  DOM事件</h2><h3 id="4-1-DOM事件"><a href="#4-1-DOM事件" class="headerlink" title="4.1 DOM事件"></a>4.1 DOM事件</h3><p>我们可以通过addEventListener(eventName, callback)绑定eventName事件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// 监听Input输入事件</span><br><span class="line">dom.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="title">function</span></span> () &#123;&#125;);</span><br><span class="line"></span><br><span class="line">// 监听鼠标放置，移动事件</span><br><span class="line">dom.addEventListener(<span class="string">'mouseover'</span>, <span class="function"><span class="title">function</span></span> () &#123;&#125;);</span><br><span class="line"></span><br><span class="line">// etc...</span><br></pre></td></tr></table></figure>
<p>也有两种不太恰当的写法，不建议使用<br>1 事件嵌套到html 代码中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;div onclick=<span class="string">"console.log('xxx')"</span>&gt;&lt;/div&gt;     ///容易导致html代码过于庞大，不易于分离</span><br></pre></td></tr></table></figure>
<p>2 事件方法替换</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dom.onclick = <span class="function"><span class="title">function</span></span> () &#123;&#125;;                //只能绑定一个事件，下一个事件会置换它</span><br></pre></td></tr></table></figure>
<p>而addEventListener()可以绑定多个监听事件，所以我们统一使用addEventListener()</p>
<p>DOM事件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const h1 = document.querySelector(<span class="string">'h1'</span>);</span><br><span class="line">h1.addEventListener(<span class="string">'click'</span>, <span class="keyword">function</span> (e) &#123;</span><br><span class="line">  console.log(e);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="https://style.youkeda.com/img/course/f4/10/9.png" alt=""><br>我们从结果来看，可以发现它是一个MouseEvent，我们来掌握这个对象的几个属性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">属性  	      值	                         解释</span><br><span class="line">target	      &lt;h1&gt;优课达-学的比别人好一点&lt;/h1&gt;	点击事件触发的 DOM 节点</span><br><span class="line"><span class="built_in">type</span>	      click	                        事件名称</span><br><span class="line">pageX/pageY	  92/47	                         鼠标事件触发的页面坐标</span><br></pre></td></tr></table></figure>
<p>我们来介绍一些常用事件：</p>
<p>焦点事件<br>focus: 表单组件（Input, Textarea, etc..）获取焦点事件<br>blur: 表单组件（Input, Textarea, etc..）失去焦点事件</p>
<p>鼠标事件<br>click: 点击事件<br>dblclick: 双击事件<br>mousedown: 在元素上按下任意鼠标按钮。<br>mouseenter: 指针移到有事件监听的元素内。<br>mouseleave: 指针移出元素范围外（不冒泡）。<br>mousemove: 指针在元素内移动时持续触发。<br>mouseover: 指针移到有事件监听的元素或者它的子元素内。<br>mouseout: 指针移出元素，或者移到它的子元素上。<br>mouseup: 在元素上释放任意鼠标按键。</p>
<p>键盘事件<br>keydown: 键盘按下事件<br>keyup: 键盘释放事件</p>
<p>视图事件<br>scroll: 文档滚动事件<br>resize: 窗口放缩事件</p>
<p>资源<br>load： 资源加载成功的事件</p>
<p>我们来做个总结：我们对DOM的操作，一般都是监听DOM事件，使用DOM操作，修改DOM属性。</p>
<h3 id="4-2-冒泡-捕获-委托"><a href="#4-2-冒泡-捕获-委托" class="headerlink" title="4.2 冒泡 捕获 委托"></a>4.2 冒泡 捕获 委托</h3><p>我们先来看一个例子：我们想在一个工程里面添加点击事件，使它跳转到对应的工程详情页面</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//省略部分代码</span><br><span class="line">const workspace = document.querySelector(<span class="string">'.workspace'</span>);</span><br><span class="line">workspace.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  window.location.href = <span class="string">'https://www.youkeda.com'</span>;       // 点击后跳转</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>我们会发现按钮先变红，然后跳转</p>
<p>冒泡:<br>因为事件先触发like的click事件，然后再触发workspace的click事件，这就是事件冒泡<br>会发生这样的情况：1 点击事件触发button.like-btn的监听事件<br>              2  冒泡找到其父节点，触发父节点的监听事件<br>              3 一直冒泡直到htmL的根元素<br>那么我们要如何组织冒泡呢？ 很简单，添加 e.stopPropagation()即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// ......省略</span><br><span class="line">likeBtn.addEventListener(<span class="string">'click'</span>, <span class="keyword">function</span>(e) &#123;</span><br><span class="line">  // 点击事件</span><br><span class="line">  e.stopPropagation()                   //阻止冒泡事件</span><br><span class="line"></span><br><span class="line">// ......省略</span><br></pre></td></tr></table></figure>

<p>捕获<br>捕获和冒泡完全相反，冒泡从当前元素开始一直冒泡到根元素，捕获是从根元素开始依次移动到当前元素。<br>我们之前使用的addEventListener是在冒泡阶段监听事件，而如果想在捕获阶段监听事件，只需要添加一个参数即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dom.addEventListener(<span class="string">'click'</span>, <span class="function"><span class="title">function</span></span>() &#123;&#125;, <span class="literal">true</span>); //添加参数<span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>委托<br>委托其实是冒泡事件的一种应用，当你想在大量子元素中单击任何一个都可以运行一段代码，<br>你可以将事件监听器设置在父节点上，而不用每个节点都单独设置监听器。<br>示例<br>设置在每一个字节点上 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const box = document.querySelector(<span class="string">'.box'</span>);</span><br><span class="line">const imgArr = box.children;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="built_in">let</span> i = 0; i &lt; imgArr.length; i++) &#123;</span><br><span class="line">  imgArr[i].addEventListener(<span class="string">'click'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">    document.body.style.backgroundImage = `url(<span class="variable">$&#123;imgArr[i].src&#125;</span>)`;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>设置在父节点上</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const box = document.querySelector(<span class="string">'.box'</span>);</span><br><span class="line"></span><br><span class="line">box.addEventListener(<span class="string">'click'</span>, <span class="keyword">function</span>(e) &#123;</span><br><span class="line">  // 注意box区域比img大，如果点击在空白间隔区域，那么返回的节点将不会是IMG，需要特殊处理一下</span><br><span class="line">  <span class="keyword">if</span> (e.target.nodeName === <span class="string">'IMG'</span>) &#123;</span><br><span class="line">    document.body.style.backgroundImage = `url(<span class="variable">$&#123;e.target.src&#125;</span>)`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="4-3-表单元素事件"><a href="#4-3-表单元素事件" class="headerlink" title="4.3 表单元素事件"></a>4.3 表单元素事件</h3><p>焦点事件：获取焦点 focus 和失去焦点blur<br>示例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const nick = document.querySelector(<span class="string">'input.nick'</span>);</span><br><span class="line">nick.addEventListener(<span class="string">'focus'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  console.log(<span class="string">'获取焦点'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">nick.addEventListener(<span class="string">'blur'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  console.log(<span class="string">'失去焦点'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>内容值变化<br>有两种事件可以监听内容的变化 input和change</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">const nick = document.querySelector(<span class="string">'input.nick'</span>);</span><br><span class="line">nick.addEventListener(<span class="string">'input'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  console.log(<span class="string">'-----input'</span>);</span><br><span class="line">  console.log(nick.value);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">nick.addEventListener(<span class="string">'change'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  console.log(<span class="string">'-----change'</span>);</span><br><span class="line">  console.log(nick.value);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>我们发现只要在input里面输入值就能触发input事件，而只有当失去焦点才会触发change事件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">事件             介绍                                                     案例</span><br><span class="line">change	当用户提交对元素值的更改时触发； change 事件不一定会对元素值的每次更改触发	1. checkbox 值修改以后</span><br><span class="line">                                                                        2. select 选择后</span><br><span class="line">                                                                        3. input 内容修改并失去焦点</span><br><span class="line">input	只要 value 值修改就会触发</span><br></pre></td></tr></table></figure>

<h3 id="4-4-滚动事件"><a href="#4-4-滚动事件" class="headerlink" title="4.4 滚动事件"></a>4.4 滚动事件</h3><p>哪些情况下需要用到滚动事件<br>1 无尽滚动：当每次滚动到底部的时候，就会加载新的内容<br>2 动态效果：给页面添加一些动态效果</p>
<p>滚动事件：scroll<br>滚动事件的添加和处理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(<span class="string">'scroll'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  console.log(window.scrollY);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>无尽滚动：当页面滚动到底部时，添加新的文章到body</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">window.addEventListener(<span class="string">'scroll'</span>, <span class="function"><span class="title">function</span></span>() &#123;</span><br><span class="line">  // 可以通过clientHeight获取内容高度</span><br><span class="line">  const height = document.body.clientHeight;</span><br><span class="line"></span><br><span class="line">  // 通过screen.height获取浏览器的高度</span><br><span class="line">  const screenHeight = window.screen.height;</span><br><span class="line"></span><br><span class="line">  // 当距离底部的距离小于500时，触发页面新增内容</span><br><span class="line">  <span class="keyword">if</span> (height - window.scrollY - screenHeight &lt; 500) &#123;</span><br><span class="line">    console.log(<span class="string">'加载新文章内容'</span>);</span><br><span class="line">    // 在底部添加10张图片</span><br><span class="line">    const div = document.createElement(<span class="string">'div'</span>);</span><br><span class="line">    <span class="built_in">let</span> str = <span class="string">''</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">let</span> i = 0; i &lt; 10; i++) &#123;</span><br><span class="line">      str += `</span><br><span class="line">       &lt;img</span><br><span class="line">        class=<span class="string">"first"</span></span><br><span class="line">        alt=<span class="string">""</span></span><br><span class="line">        src=<span class="string">"https://document.youkeda.com/P3-1-HTML-CSS/1.8/1.jpg?x-oss-process=image/resize,h_300"</span></span><br><span class="line">      /&gt;</span><br><span class="line">      `;</span><br><span class="line">    &#125;</span><br><span class="line">    div.innerHTML = str;</span><br><span class="line">    document.body.appendChild(div);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>分析一下运用到的技术：<br>1 内容高度document.body.clientHeight<br>2 浏览器高度 window.screen.height<br>3 滚动距离 window.scrollY<br>4 滚动距离底部距离 内容高度 - 浏览器高度 - 滚动距离</p>
<h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>最后额外来添加一些关于网络请求的知识，基本的协议和url这些就不讲了，我们来看看关于fetch<br>我们可以使用fetch方法获取api返回的数据，示例</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">fetch(                                       //使用fetch方法</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-1-1'</span></span><br><span class="line">)</span><br><span class="line">  .<span class="keyword">then</span>(<span class="keyword">function</span> (response) &#123;</span><br><span class="line">    <span class="built_in">return</span> response.json();</span><br><span class="line">  &#125;)</span><br><span class="line">  .<span class="keyword">then</span>(<span class="keyword">function</span> (myJson) &#123;</span><br><span class="line">    console.log(myJson);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
<p>我们看到示例中有.then这个语法，要理解这个语法我们先来看看fetch返回的结果是什么？<br>fetch返回的是一个Promise对象</p>
<p>promise是异步编程的一种解决方案，之前的异步编程都是通过回调方法来实现的。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="built_in">let</span> oReq = new XMLHttpRequest();</span><br><span class="line">oReq.addEventListener(<span class="string">'load'</span>, <span class="function"><span class="title">function</span></span> () &#123;</span><br><span class="line">  console.log(this.responseText);</span><br><span class="line">&#125;);</span><br><span class="line">oReq.open(</span><br><span class="line">  <span class="string">'GET'</span>,</span><br><span class="line">  <span class="string">'https://www.fastmock.site/mock/b73a1b9229212a9a3749e046b1e70285/f4/f4-11-1-1'</span></span><br><span class="line">);</span><br><span class="line">oReq.send();</span><br><span class="line"></span><br><span class="line">这是老版的ajax调用，大家以后几乎用不到这种方法。</span><br><span class="line">使用这种方法我们需要写一大段代码，然后通过addEventListener监听load事件，然后触发后面的<span class="keyword">function</span>回调函数。如果在这个回调函数里面继续</span><br><span class="line">加入setTimeout或者addEventListener监听代码，那么会出现多层嵌套，专业叫做回调地狱。</span><br></pre></td></tr></table></figure>
<p>Promise对象可以通过.then触发回调函数。<br>因为response.json()返回的也是一个 Promise 对象，所有后续可以继续使用.then触发后续回调。<br>fetch把嵌套型的回调调整为了平埔型的回调，完美的解决了回调地狱的问题。<br>fetch默认发起的是get请求，如果要发起post请求，只需要添加一个参数 method: ‘POST’即可</p>

</div>


    <div class="post-guide">
        <div class="item left">
            
              <a href="/2020/08/10/%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E4%B8%80%E9%9F%B3%E4%B9%90%E8%AF%84%E8%AE%BA%E5%88%86%E6%9E%90/">
                  <i class="fa fa-angle-left" aria-hidden="true"></i>
                  实战项目一音乐评论分析
              </a>
            
        </div>
        <div class="item right">
            
              <a href="/2020/08/05/%E5%85%A8%E6%A0%88/">
                全栈
                <i class="fa fa-angle-right" aria-hidden="true"></i>
              </a>
            
        </div>
    </div>



	<div id="vcomments"></div>


<script>
	
		// 评论
		new Valine({
			av: AV,
			el: '#vcomments',
			notify: false,
			verify: false,
			path: window.location.pathname,
			appId: '',
			appKey: '',
			placeholder: '请输入评论',
			avatar: 'retro',
			recordIP: false
		})
	
	
</script>
	</div>
	<div id="footer">
	<p>
	©2019-<span id="footerYear"></span> 
	<a href="/">John Doe</a> 
	
	
		|
		<span id="busuanzi_container_site_pv">
			pv
			<span id="busuanzi_value_site_pv"></span>
		</span>
		|
		<span id="busuanzi_container_site_uv"> 
			uv
			<span id="busuanzi_value_site_uv"></span>
		</span>
	
	<br>
	Theme <a href="//github.com/wujun234/hexo-theme-tree" target="_blank">Tree</a>
	by <a href="//github.com/wujun234" target="_blank">WuJun</a>
	Powered by <a href="//hexo.io" target="_blank">Hexo</a>
	</p>
</div>
<script type="text/javascript"> 
	document.getElementById('footerYear').innerHTML = new Date().getFullYear() + '';
</script>
	<button id="totop-toggle" class="toggle"><i class="fa fa-angle-double-up" aria-hidden="true"></i></button>
</body>
</html>